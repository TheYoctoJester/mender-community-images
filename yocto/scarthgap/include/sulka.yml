header:
  version: 14

distro: sulka

repos:
  meta-sulka-distro:
    url: https://codeberg.org/AltidSec/meta-sulka-distro.git
    commit: 64c1f5c0d484bd201e7f2f617040e2c5973d17cb

  meta-openembedded:
    layers:
      meta-python:
      meta-networking:

  meta-security:
    url: git://git.yoctoproject.org/meta-security.git
    commit: bc865c5276c2ab4031229916e8d7c20148dfbac3

local_conf_header:
  sulka: |
    SULKA_SERVICEUSER_USERNAME = "mender"
    # source for password: mkpasswd -m yescrypt -s -R 8 mender | sed 's/\$/\\$/g'
    SULKA_SERVICEUSER_PASSWORD = "\$y\$jCT\$odv3AoU98sQjAtgZRT1/Y/\$xPty.dqoENrSyksek7i3/PEhKNuVqo3ZcTC4ord0FF/"
    # packagegroup-sulka also contains sudo, so the mender:mender user can "do things"
    CORE_IMAGE_EXTRA_INSTALL:append = " packagegroup-sulka "
